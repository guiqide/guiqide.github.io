<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>readExternalFiles</title>
</head>
<body>
    <script type="application/javascript">
        function xhrSuccess() {
            this.callback.apply(this, this.arguments);
        }

        function xhrError() {
            console.error(this.statusText);
        }

        function loadFile(sURL, fCallback) {
            var oReq = new XMLHttpRequest();
            oReq.callback = fCallback;
            oReq.arguments = Array.prototype.slice.call(arguments, 2);
            oReq.onload = xhrSuccess;
            oReq.onerror = xhrError;
            oReq.open('GET', sURL, true);
            oReq.send(null);
        }

        function showMessage (sMsg) {
          alert(sMsg + this.responseText);
        }

        loadFile('/images/bug.jpg', showMessage, 'New message!');
            
    </script>
</body>
</html>